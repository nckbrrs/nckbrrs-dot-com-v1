@import '@carbon/type/scss/font-family';

@font-face {
    font-family: 'IBM Plex Serif SemiBold';
    src: url('../../assets/fonts/IBMPlexSerif-SemiBold.ttf') format('truetype')
}
.main-content {
    text-align: center;
    padding-top: $layout-07;
    padding-bottom: $layout-07;

    .main-text {
        font-family: 'IBM Plex Serif SemiBold';
        font-size: 3.5vw;
        color: #2e85ff;
        line-height: 1.6em;
        position: relative;
        display: inline-block;
        z-index: 1;

        &:before,
        &:after {
            content:attr(data-content);
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
        }

        &:before {
            color: #00ffaa;
            z-index: -1;
        }
    
        &:after {
            color: #ff6622;
            z-index: -2;
        }

        &:hover {
            &:before {
                --g: 2;
                animation: glitch 1.5s ease 1s infinite;
            }
            
            &:after {
                --g: 2;
                animation: glitch 2s ease infinite reverse;
            }
        }
    }
}

@media screen and (max-width: 870px) {
    .main-content .main-text {
        font-size: 2.2em;
        padding-left: $spacing-07;
        padding-right: $spacing-07;

        &:before,
        &:after {
            padding-left: $spacing-07;
            padding-right: $spacing-07;
        }
    }
}

@media screen and (max-width: 600px) {
    .main-content {
        padding-top: $layout-06;
        padding-bottom: $layout-06;

        .main-text {
            font-size: 1.5em;
            padding-left: $spacing-04;
            padding-right: $spacing-04;

            &:before,
            &:after {
                padding-left: $spacing-04;
                padding-right: $spacing-04;
            }

            &:hover {
                &:before {
                    --g: 1;
                    animation: glitch 1.5s ease 1s infinite;
                }
                
                &:after {
                    --g: 1;
                    animation: glitch 2s ease infinite reverse;
                }
            }
        }
    }

}

@keyframes glitch {
    0%   {transform: translate(calc(var(--g) * -1px), calc(var(--g) * 1px));}
    25%  {transform: translate(calc(var(--g) * -1px), calc(var(--g) * -1px));}
    50%  {transform: translate(calc(var(--g) * 1px), calc(var(--g) * 1px));}
    75%  {transform: translate(calc(var(--g) * 1px), calc(var(--g) * -1px));}
    100% {transform: translate(calc(var(--g) * -1px), calc(var(--g) * 1px));}
}